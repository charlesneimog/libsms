:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
SMS Library Work Log
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
* Issues to be delt with
** [#A] ways to get fftw working the same as realft:
   - [ ] write both IFFT's (waveform) to txt file
   - [ ] compare in python and relate data to FFT parameters
   - [ ] where oh where is the fft getting normalized?
        - check pFDetWindow, realft, four1
        - follow samples to output
*** python code to compare  waveforms:
from pylab import *
values = [ float(x) for x in open('/tmp/test.txt').read().split() ]
figure(1) # optional
subplot(211)
plot, subplot(212), etc
** [#B] ways to fix the stoc_ big crunch in the beginning:
*** first check if area is consistent throughout different samples.
** changing the framerate in smsAnal makes deterministic component empty. huh?
*** Xavier suggests fund estimate is bad, so specify manually
*** resample after analysis (delete 3 out of 4 frames, concatenate stoc_wave)
** what is the difference between smsClean and the cleaning within smsAnal?
** can/is smsSynthDet be in smsSynth
** what is calcCorr in tools?
* Pre-modifications: making analysis/plotting scripts
** DONE smsToYaml for importing into python
** TODO [#C] SWIG libsms wrappers for more convenient use in python
** DONE smsPlot.py for plotting smsData over a spectrogram of audio source.
* Phase 1: Refactoring libsms for usage in real-time and release
** TODO [#A] - switch to FFTW3f for fft's
***  TODO start with SineSynthIFFT until it sounds right
***  DONE need to configure a fftw_plan outside of process loop, and allocate buffers there
     - now in SYNTH_PARAMS
***  make sure input size and output sizes are correct
     - for realft: 
       - sizeMag = size of fft; 128
       - buffer in = 256, 2nd half is zeros
       - [X] what is pFFftBuffer-1 ?: unit offset instead of zero-offset
** TODO [#A] switch build scripts to scons 
   - [ ] get env. exporting/importing fixed
   - [ ] add install functionality
** TODO [#A] should have the option to store residual in audio samples or STFT frames
*** TODO organize analParams to allow for options:
   - [X] sound samples
   - [ ] STFT frames with imag/real pairs
   - [X] filter approximation
   - [X] no stachostic component
*** DONE store audio data in SMS_DATA structure
    - [X] need number of samples in AllocateSmsRecord:
    - [X] put sizeHop in AllocSmsHeader by using SMSHeader's
    framerate and samplerate
    - [X] make sure size hop shows up the same in synth and analysis,
    - [X] Q. why is SIZE_SYNTH_HOP set to 128? changing it causes memory errors..
    within AllocateSmsRecord            
         - A.  smallest size for FFT with good frequency resolution 
    - [X] write audio data to file, check if it is the same when re-opened
    - [X] seg fault on last frame of Stoch Analysis
         - [X] check why there are stoch coefficients with STOC_AUDIO in sms.h         
*** DONE add print function for smsPrint
*** TODO modify smsResample to concatenate stocWave data
    - [ ] will take adding iWaveSamples to SMS_DATA
** TODO [#B] convert from short to floating point data
   - will need this for pd anyway
   - everything is computed in float point, so why range from 0-16000 then?
** TODO [#C] reorganize soundIO.  Some functions right now aren't used.. or can be combined with others
**       - what is GetResidual's WriteResidualToFile supposed to be doing?
** DONE [#C] make samplerate independant of analysis/synthesis
** TODO [#B] convert README's to manpages.
   - [ ] update to fit new parameters
   - [ ] proofread
** TODO [#B] make example python scripts
** TODO [#C] move smsMod's stochostic gain adjusting to 
   - should stocGain be available for all stoc types?

* Phase 2: building real-time pd externals for analysis/synthesis
** will have to normalize audio to floating point abs(1)
   - should everything in libsms be converted to this sample format?


