
# -*- python -*-
# scons script for building tools

Import('*')

tools = Split(' smsAnal smsSynth smsClean \
        	smsPrint smsResample \
        	smsToYaml' )

#def install_manpages():
#        for name in tools:
#                manpage ='../man/'+ name +'.1'
                

#where to install tools and manpages
tools_prefix = prefix+'/bin'
man_prefix = prefix+'/man/man1'
#env.Alias('install', tools_prefix, "install_manpages")

env.Append(LIBS = 'sms',  CPPPATH = '../src', LIBPATH = '../src')


#build each tool
for t in tools:
	t_src = t+'.c'
	t_man = '../man/' + t +'.1'
        print "manpage: ", t_man
	tool =env.Program( target = t, source = t_src)
        Depends(tool, '../src/libsms.a')
        #install tool
        env.Install(tools_prefix, t)
        env.Alias('install', tools_prefix)
        env.Install(man_prefix, t_man)
        env.Alias('install', man_prefix)



